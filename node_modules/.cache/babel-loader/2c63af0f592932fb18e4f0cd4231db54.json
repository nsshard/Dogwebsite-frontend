{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\webAPI work\\\\web\\\\dog-website\\\\src\\\\managemsg.js\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useState, useEffect } from \"react\";\nimport axios from './axios';\nimport './App.css';\nimport useRefreshToken from \"./hooks/useRefreshToken\";\nimport useAxiosPrivate from \"./hooks/useAxiosPrivate\";\n/**\n * Delete msg page\n * \n */\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Managemsg() {\n  _s();\n\n  /**\n   * Variables\n   * \n   */\n  const [success, setSuccess] = useState(false);\n  const userRef = useRef();\n  const errRef = useRef();\n  const [errMsg, setErrMsg] = useState(\"\");\n  const [data, getData] = useState([]);\n  const [id, setId] = useState(\"\");\n  const [commentmsg, setCommentmsg] = useState(\"\");\n  const URL = 'http://localhost:3000/comments';\n  const refresh = useRefreshToken();\n  useEffect(() => {\n    userRef.current.focus();\n  }, []);\n  useEffect(() => {\n    setErrMsg(\"\");\n  }, [id]);\n  /**\n   * submit function, prevents default\n   * \n   */\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    /**\n     * delete a comment based on ID\n     * \n     */\n\n    try {\n      const response = await axios.delete(URL, {\n        data: {\n          id\n        }\n      });\n      setId(\"\");\n      setSuccess(true);\n    } catch (err) {\n      if (!(err !== null && err !== void 0 && err.response)) {\n        setErrMsg(\"No Server Response\");\n      }\n\n      errRef.current.focus();\n    }\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  const fetchData = () => {\n    fetch(URL).then(res => res.json()).then(response => {\n      console.log(response);\n      getData(response);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: success ? /*#__PURE__*/_jsxDEV(\"section\", {\n      children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Comment deleted!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"section\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"commentform\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          ref: errRef,\n          className: errMsg ? \"errmsg\" : \"offscreen\",\n          \"aria-live\": \"assertive\",\n          children: errMsg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"addcommenttext\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Delete a comment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"commentbox1\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"name\",\n              children: \"Comment ID:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"id\",\n              ref: userRef,\n              autoComplete: \"off\",\n              onChange: e => setId(e.target.value),\n              value: id,\n              required: true,\n              \"aria-describedby\": \"uidnote\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"deletecommentbuttonin\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => refresh(),\n              children: \"Delete comment\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"line\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 2\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"commentthingy\",\n        children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"ID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Comment\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 9\n          }, this), data.map((item, i) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: item._id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.commentmsg\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.location\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 13\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 11\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 1\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 1\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n\n_s(Managemsg, \"l15F/NoRyn+Skh33JnpUUXsrN5o=\", false, function () {\n  return [useRefreshToken];\n});\n\n_c = Managemsg;\nexport default Managemsg;\n\nvar _c;\n\n$RefreshReg$(_c, \"Managemsg\");","map":{"version":3,"names":["React","useRef","useState","useEffect","axios","useRefreshToken","useAxiosPrivate","Managemsg","success","setSuccess","userRef","errRef","errMsg","setErrMsg","data","getData","id","setId","commentmsg","setCommentmsg","URL","refresh","current","focus","handleSubmit","e","preventDefault","response","delete","err","fetchData","fetch","then","res","json","console","log","target","value","map","item","i","_id","name","location"],"sources":["C:/Users/Administrator/Desktop/webAPI work/web/dog-website/src/managemsg.js"],"sourcesContent":["import React, {useRef,useState, useEffect } from \"react\";\nimport axios from './axios';\nimport './App.css';\nimport useRefreshToken from \"./hooks/useRefreshToken\";\nimport useAxiosPrivate from \"./hooks/useAxiosPrivate\";\n\n/**\n * Delete msg page\n * \n */\nfunction Managemsg() {\n/**\n * Variables\n * \n */\n  const [success, setSuccess] = useState(false);\n  const userRef = useRef();\n  const errRef = useRef();\n  const [errMsg, setErrMsg] = useState(\"\");\n  const [data, getData] = useState([]);\n  const [id, setId] = useState(\"\");\n  const [commentmsg, setCommentmsg] = useState(\"\");\n  const URL = 'http://localhost:3000/comments';\n  const refresh = useRefreshToken();\n  useEffect(() => {\n    userRef.current.focus();\n  }, []);\n\n  useEffect(() => {\n    setErrMsg(\"\");\n  }, [id]);\n\n/**\n * submit function, prevents default\n * \n */\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n   \n/**\n * delete a comment based on ID\n * \n */\n    try {\n      const response = await axios.delete(\n        URL,\n        { data: { id } });\n\n      setId(\"\");\n    \n     \n      setSuccess(true);\n\n    } catch (err) {\n      if (!err?.response) {\n        setErrMsg(\"No Server Response\");\n      }\n      errRef.current.focus();\n    }\n  };\n\n  useEffect(() => {\n      fetchData()\n  }, [])\n\n\n  const fetchData = () => {\n      fetch(URL)\n          .then((res) =>\n              res.json())\n\n          .then((response) => {\n              console.log(response);\n              getData(response);\n          })\n\n  }\n\n  return (\n<>\n{success ? (\n        <section>\n          <br></br>\n          <h1>Comment deleted!</h1>\n        </section>\n      ) : (\n        <section>\n <div className=\"commentform\">\n            <p\n              ref={errRef}\n              className={errMsg ? \"errmsg\" : \"offscreen\"}\n              aria-live=\"assertive\"\n            >\n              {errMsg}\n            </p>\n            <div className=\"addcommenttext\">\n              <h1>Delete a comment</h1>\n            </div>\n\n          \n\n            <form onSubmit={handleSubmit}>\n              <div className=\"commentbox1\">\n                <label htmlFor=\"name\">Comment ID:</label>\n                <input\n                  type=\"text\"\n                  id=\"id\"\n                  ref={userRef}\n                  autoComplete=\"off\"\n                  onChange={(e) => setId(e.target.value)}\n                  value={id}\n                  required\n                  aria-describedby=\"uidnote\"\n                />\n              </div>\n           \n           \n\n              <div className=\"deletecommentbuttonin\">\n                <button onClick={() => refresh()}>Delete comment</button>\n              </div>\n            </form>\n            <p>\n              <span className=\"line\"></span>\n            </p>\n          </div>\n\n         \n\n<div className=\"commentthingy\">\n<tbody>\n        <tr>\n          <th>ID</th>\n          <th>Name</th>\n          <th>Comment</th>\n         \n        </tr>\n        {data.map((item, i) => (\n          <tr key={i}>\n            <td>{item._id}</td>\n            <td>{item.name}</td>\n            <td>{item.commentmsg}</td>\n            <td>{item.location}</td>\n         \n          </tr>\n        ))}\n      </tbody>\n\n      </div>\n         \n        </section>\n        \n      )}\n    </>\n  );\n}\n\nexport default Managemsg;\n\t"],"mappings":"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"},"metadata":{},"sourceType":"module"}