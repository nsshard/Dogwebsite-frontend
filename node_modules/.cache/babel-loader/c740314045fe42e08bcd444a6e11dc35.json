{"ast":null,"code":"'use strict';\n\nconst Aspect = {\n  READ_OPERATION: Symbol('READ_OPERATION'),\n  WRITE_OPERATION: Symbol('WRITE_OPERATION'),\n  RETRYABLE: Symbol('RETRYABLE'),\n  EXECUTE_WITH_SELECTION: Symbol('EXECUTE_WITH_SELECTION'),\n  NO_INHERIT_OPTIONS: Symbol('NO_INHERIT_OPTIONS')\n};\n/**\n * This class acts as a parent class for any operation and is responsible for setting this.options,\n * as well as setting and getting a session.\n * Additionally, this class implements `hasAspect`, which determines whether an operation has\n * a specific aspect.\n */\n\nclass OperationBase {\n  constructor(options) {\n    this.options = Object.assign({}, options);\n  }\n\n  hasAspect(aspect) {\n    if (this.constructor.aspects == null) {\n      return false;\n    }\n\n    return this.constructor.aspects.has(aspect);\n  }\n\n  set session(session) {\n    Object.assign(this.options, {\n      session\n    });\n  }\n\n  get session() {\n    return this.options.session;\n  }\n\n  clearSession() {\n    delete this.options.session;\n  }\n\n  get canRetryRead() {\n    return true;\n  }\n\n  execute() {\n    throw new TypeError('`execute` must be implemented for OperationBase subclasses');\n  }\n\n}\n\nfunction defineAspects(operation, aspects) {\n  if (!Array.isArray(aspects) && !(aspects instanceof Set)) {\n    aspects = [aspects];\n  }\n\n  aspects = new Set(aspects);\n  Object.defineProperty(operation, 'aspects', {\n    value: aspects,\n    writable: false\n  });\n  return aspects;\n}\n\nmodule.exports = {\n  Aspect,\n  defineAspects,\n  OperationBase\n};","map":{"version":3,"names":["Aspect","READ_OPERATION","Symbol","WRITE_OPERATION","RETRYABLE","EXECUTE_WITH_SELECTION","NO_INHERIT_OPTIONS","OperationBase","constructor","options","Object","assign","hasAspect","aspect","aspects","has","session","clearSession","canRetryRead","execute","TypeError","defineAspects","operation","Array","isArray","Set","defineProperty","value","writable","module","exports"],"sources":["C:/Users/Administrator/Desktop/webAPI work/web/dog-website/node_modules/koa-mongo/node_modules/mongodb/lib/operations/operation.js"],"sourcesContent":["'use strict';\n\nconst Aspect = {\n  READ_OPERATION: Symbol('READ_OPERATION'),\n  WRITE_OPERATION: Symbol('WRITE_OPERATION'),\n  RETRYABLE: Symbol('RETRYABLE'),\n  EXECUTE_WITH_SELECTION: Symbol('EXECUTE_WITH_SELECTION'),\n  NO_INHERIT_OPTIONS: Symbol('NO_INHERIT_OPTIONS')\n};\n\n/**\n * This class acts as a parent class for any operation and is responsible for setting this.options,\n * as well as setting and getting a session.\n * Additionally, this class implements `hasAspect`, which determines whether an operation has\n * a specific aspect.\n */\nclass OperationBase {\n  constructor(options) {\n    this.options = Object.assign({}, options);\n  }\n\n  hasAspect(aspect) {\n    if (this.constructor.aspects == null) {\n      return false;\n    }\n    return this.constructor.aspects.has(aspect);\n  }\n\n  set session(session) {\n    Object.assign(this.options, { session });\n  }\n\n  get session() {\n    return this.options.session;\n  }\n\n  clearSession() {\n    delete this.options.session;\n  }\n\n  get canRetryRead() {\n    return true;\n  }\n\n  execute() {\n    throw new TypeError('`execute` must be implemented for OperationBase subclasses');\n  }\n}\n\nfunction defineAspects(operation, aspects) {\n  if (!Array.isArray(aspects) && !(aspects instanceof Set)) {\n    aspects = [aspects];\n  }\n  aspects = new Set(aspects);\n  Object.defineProperty(operation, 'aspects', {\n    value: aspects,\n    writable: false\n  });\n  return aspects;\n}\n\nmodule.exports = {\n  Aspect,\n  defineAspects,\n  OperationBase\n};\n"],"mappings":"AAAA;;AAEA,MAAMA,MAAM,GAAG;EACbC,cAAc,EAAEC,MAAM,CAAC,gBAAD,CADT;EAEbC,eAAe,EAAED,MAAM,CAAC,iBAAD,CAFV;EAGbE,SAAS,EAAEF,MAAM,CAAC,WAAD,CAHJ;EAIbG,sBAAsB,EAAEH,MAAM,CAAC,wBAAD,CAJjB;EAKbI,kBAAkB,EAAEJ,MAAM,CAAC,oBAAD;AALb,CAAf;AAQA;AACA;AACA;AACA;AACA;AACA;;AACA,MAAMK,aAAN,CAAoB;EAClBC,WAAW,CAACC,OAAD,EAAU;IACnB,KAAKA,OAAL,GAAeC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBF,OAAlB,CAAf;EACD;;EAEDG,SAAS,CAACC,MAAD,EAAS;IAChB,IAAI,KAAKL,WAAL,CAAiBM,OAAjB,IAA4B,IAAhC,EAAsC;MACpC,OAAO,KAAP;IACD;;IACD,OAAO,KAAKN,WAAL,CAAiBM,OAAjB,CAAyBC,GAAzB,CAA6BF,MAA7B,CAAP;EACD;;EAEU,IAAPG,OAAO,CAACA,OAAD,EAAU;IACnBN,MAAM,CAACC,MAAP,CAAc,KAAKF,OAAnB,EAA4B;MAAEO;IAAF,CAA5B;EACD;;EAEU,IAAPA,OAAO,GAAG;IACZ,OAAO,KAAKP,OAAL,CAAaO,OAApB;EACD;;EAEDC,YAAY,GAAG;IACb,OAAO,KAAKR,OAAL,CAAaO,OAApB;EACD;;EAEe,IAAZE,YAAY,GAAG;IACjB,OAAO,IAAP;EACD;;EAEDC,OAAO,GAAG;IACR,MAAM,IAAIC,SAAJ,CAAc,4DAAd,CAAN;EACD;;AA9BiB;;AAiCpB,SAASC,aAAT,CAAuBC,SAAvB,EAAkCR,OAAlC,EAA2C;EACzC,IAAI,CAACS,KAAK,CAACC,OAAN,CAAcV,OAAd,CAAD,IAA2B,EAAEA,OAAO,YAAYW,GAArB,CAA/B,EAA0D;IACxDX,OAAO,GAAG,CAACA,OAAD,CAAV;EACD;;EACDA,OAAO,GAAG,IAAIW,GAAJ,CAAQX,OAAR,CAAV;EACAJ,MAAM,CAACgB,cAAP,CAAsBJ,SAAtB,EAAiC,SAAjC,EAA4C;IAC1CK,KAAK,EAAEb,OADmC;IAE1Cc,QAAQ,EAAE;EAFgC,CAA5C;EAIA,OAAOd,OAAP;AACD;;AAEDe,MAAM,CAACC,OAAP,GAAiB;EACf9B,MADe;EAEfqB,aAFe;EAGfd;AAHe,CAAjB"},"metadata":{},"sourceType":"script"}