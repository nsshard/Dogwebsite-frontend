{"ast":null,"code":"const ObjectId = require('mongodb').ObjectId;\n\nconst accounts = require('./index').db('petshopdb').collection('users');\n\nconst save = async _ref => {\n  let {\n    USERNAME,\n    PASSWORD,\n    USERLEVEL,\n    EMAIL,\n    STAFFCODE\n  } = _ref;\n  const result = await accounts.insertOne({\n    USERNAME,\n    PASSWORD,\n    USERLEVEL,\n    EMAIL,\n    STAFFCODE\n  });\n  return result.ops[0];\n};\n\nconst getAll = async () => {\n  const cursor = await accounts.find();\n  return cursor.toArray();\n};\n\nconst getById = async id => {\n  return await accounts.findOne({\n    _id: ObjectId(id)\n  });\n};\n\nconst getByName = async USERNAME => {\n  return await accounts.findOne({\n    _id: ObjectId(USERNAME)\n  });\n};\n\nconst update = async (id, _ref2) => {\n  let {\n    USERNAME,\n    PASSWORD,\n    USERLEVEL,\n    EMAIL,\n    STAFFCODE\n  } = _ref2;\n  const result = await accounts.replaceOne({\n    _id: ObjectId(id)\n  }, {\n    USERNAME,\n    PASSWORD,\n    USERLEVEL,\n    EMAIL,\n    STAFFCODE\n  });\n  return result.ops[0];\n};\n\nconst removebyId = async id => {\n  await accounts.deleteOne({\n    _id: ObjectId(id)\n  });\n};\n\nmodule.exports = {\n  save,\n  getAll,\n  getById,\n  update,\n  removebyId,\n  getByName\n};","map":{"version":3,"names":["ObjectId","require","accounts","db","collection","save","USERNAME","PASSWORD","USERLEVEL","EMAIL","STAFFCODE","result","insertOne","ops","getAll","cursor","find","toArray","getById","id","findOne","_id","getByName","update","replaceOne","removebyId","deleteOne","module","exports"],"sources":["C:/Users/Administrator/Desktop/webAPI work/web/dog-website/src/backend/dal/accountREST.js"],"sourcesContent":["const ObjectId = require('mongodb').ObjectId;\r\n\r\nconst accounts = require('./index').db('petshopdb').collection('users');\r\n\r\n\r\n\r\nconst save = async ({USERNAME, PASSWORD, USERLEVEL, EMAIL, STAFFCODE}) => {\r\n    const result = await accounts.insertOne({USERNAME, PASSWORD, USERLEVEL, EMAIL, STAFFCODE});\r\n    return result.ops[0];\r\n}\r\n\r\nconst getAll = async () =>{\r\n    const cursor = await accounts.find();\r\n\r\n    return cursor.toArray();\r\n}\r\n\r\nconst getById = async (id) =>{\r\n    return await accounts.findOne({_id:ObjectId(id)});\r\n}\r\n\r\nconst getByName = async (USERNAME) =>{\r\n    return await accounts.findOne({_id:ObjectId(USERNAME)});\r\n}\r\n\r\nconst update = async (id, {USERNAME, PASSWORD, USERLEVEL, EMAIL, STAFFCODE}) =>{\r\nconst result = await accounts.replaceOne({_id:ObjectId(id)}, {USERNAME, PASSWORD, USERLEVEL, EMAIL, STAFFCODE});\r\nreturn result.ops[0];\r\n}\r\n\r\nconst removebyId = async id=>{\r\n    await accounts.deleteOne({_id:ObjectId(id)});\r\n}\r\n\r\nmodule.exports={save, getAll, getById, update, removebyId, getByName}"],"mappings":"AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,SAAD,CAAP,CAAmBD,QAApC;;AAEA,MAAME,QAAQ,GAAGD,OAAO,CAAC,SAAD,CAAP,CAAmBE,EAAnB,CAAsB,WAAtB,EAAmCC,UAAnC,CAA8C,OAA9C,CAAjB;;AAIA,MAAMC,IAAI,GAAG,cAA6D;EAAA,IAAtD;IAACC,QAAD;IAAWC,QAAX;IAAqBC,SAArB;IAAgCC,KAAhC;IAAuCC;EAAvC,CAAsD;EACtE,MAAMC,MAAM,GAAG,MAAMT,QAAQ,CAACU,SAAT,CAAmB;IAACN,QAAD;IAAWC,QAAX;IAAqBC,SAArB;IAAgCC,KAAhC;IAAuCC;EAAvC,CAAnB,CAArB;EACA,OAAOC,MAAM,CAACE,GAAP,CAAW,CAAX,CAAP;AACH,CAHD;;AAKA,MAAMC,MAAM,GAAG,YAAW;EACtB,MAAMC,MAAM,GAAG,MAAMb,QAAQ,CAACc,IAAT,EAArB;EAEA,OAAOD,MAAM,CAACE,OAAP,EAAP;AACH,CAJD;;AAMA,MAAMC,OAAO,GAAG,MAAOC,EAAP,IAAa;EACzB,OAAO,MAAMjB,QAAQ,CAACkB,OAAT,CAAiB;IAACC,GAAG,EAACrB,QAAQ,CAACmB,EAAD;EAAb,CAAjB,CAAb;AACH,CAFD;;AAIA,MAAMG,SAAS,GAAG,MAAOhB,QAAP,IAAmB;EACjC,OAAO,MAAMJ,QAAQ,CAACkB,OAAT,CAAiB;IAACC,GAAG,EAACrB,QAAQ,CAACM,QAAD;EAAb,CAAjB,CAAb;AACH,CAFD;;AAIA,MAAMiB,MAAM,GAAG,OAAOJ,EAAP,YAAgE;EAAA,IAArD;IAACb,QAAD;IAAWC,QAAX;IAAqBC,SAArB;IAAgCC,KAAhC;IAAuCC;EAAvC,CAAqD;EAC/E,MAAMC,MAAM,GAAG,MAAMT,QAAQ,CAACsB,UAAT,CAAoB;IAACH,GAAG,EAACrB,QAAQ,CAACmB,EAAD;EAAb,CAApB,EAAwC;IAACb,QAAD;IAAWC,QAAX;IAAqBC,SAArB;IAAgCC,KAAhC;IAAuCC;EAAvC,CAAxC,CAArB;EACA,OAAOC,MAAM,CAACE,GAAP,CAAW,CAAX,CAAP;AACC,CAHD;;AAKA,MAAMY,UAAU,GAAG,MAAMN,EAAN,IAAU;EACzB,MAAMjB,QAAQ,CAACwB,SAAT,CAAmB;IAACL,GAAG,EAACrB,QAAQ,CAACmB,EAAD;EAAb,CAAnB,CAAN;AACH,CAFD;;AAIAQ,MAAM,CAACC,OAAP,GAAe;EAACvB,IAAD;EAAOS,MAAP;EAAeI,OAAf;EAAwBK,MAAxB;EAAgCE,UAAhC;EAA4CH;AAA5C,CAAf"},"metadata":{},"sourceType":"module"}