{"ast":null,"code":"'use strict';\n/**\n * Module dependencies.\n */\n\nconst debug = require('debug')('koa-static');\n\nconst {\n  resolve\n} = require('path');\n\nconst assert = require('assert');\n\nconst send = require('koa-send');\n/**\n * Expose `serve()`.\n */\n\n\nmodule.exports = serve;\n/**\n * Serve static files from `root`.\n *\n * @param {String} root\n * @param {Object} [opts]\n * @return {Function}\n * @api public\n */\n\nfunction serve(root, opts) {\n  opts = Object.assign({}, opts);\n  assert(root, 'root directory is required to serve files'); // options\n\n  debug('static \"%s\" %j', root, opts);\n  opts.root = resolve(root);\n  if (opts.index !== false) opts.index = opts.index || 'index.html';\n\n  if (!opts.defer) {\n    return async function serve(ctx, next) {\n      let done = false;\n\n      if (ctx.method === 'HEAD' || ctx.method === 'GET') {\n        try {\n          done = await send(ctx, ctx.path, opts);\n        } catch (err) {\n          if (err.status !== 404) {\n            throw err;\n          }\n        }\n      }\n\n      if (!done) {\n        await next();\n      }\n    };\n  }\n\n  return async function serve(ctx, next) {\n    await next();\n    if (ctx.method !== 'HEAD' && ctx.method !== 'GET') return; // response is already handled\n\n    if (ctx.body != null || ctx.status !== 404) return; // eslint-disable-line\n\n    try {\n      await send(ctx, ctx.path, opts);\n    } catch (err) {\n      if (err.status !== 404) {\n        throw err;\n      }\n    }\n  };\n}","map":{"version":3,"names":["debug","require","resolve","assert","send","module","exports","serve","root","opts","Object","assign","index","defer","ctx","next","done","method","path","err","status","body"],"sources":["C:/Users/Administrator/Desktop/webAPI work/web/dog-website/node_modules/koa-static/index.js"],"sourcesContent":["\n'use strict'\n\n/**\n * Module dependencies.\n */\n\nconst debug = require('debug')('koa-static')\nconst { resolve } = require('path')\nconst assert = require('assert')\nconst send = require('koa-send')\n\n/**\n * Expose `serve()`.\n */\n\nmodule.exports = serve\n\n/**\n * Serve static files from `root`.\n *\n * @param {String} root\n * @param {Object} [opts]\n * @return {Function}\n * @api public\n */\n\nfunction serve (root, opts) {\n  opts = Object.assign({}, opts)\n\n  assert(root, 'root directory is required to serve files')\n\n  // options\n  debug('static \"%s\" %j', root, opts)\n  opts.root = resolve(root)\n  if (opts.index !== false) opts.index = opts.index || 'index.html'\n\n  if (!opts.defer) {\n    return async function serve (ctx, next) {\n      let done = false\n\n      if (ctx.method === 'HEAD' || ctx.method === 'GET') {\n        try {\n          done = await send(ctx, ctx.path, opts)\n        } catch (err) {\n          if (err.status !== 404) {\n            throw err\n          }\n        }\n      }\n\n      if (!done) {\n        await next()\n      }\n    }\n  }\n\n  return async function serve (ctx, next) {\n    await next()\n\n    if (ctx.method !== 'HEAD' && ctx.method !== 'GET') return\n    // response is already handled\n    if (ctx.body != null || ctx.status !== 404) return // eslint-disable-line\n\n    try {\n      await send(ctx, ctx.path, opts)\n    } catch (err) {\n      if (err.status !== 404) {\n        throw err\n      }\n    }\n  }\n}\n"],"mappings":"AACA;AAEA;AACA;AACA;;AAEA,MAAMA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAAP,CAAiB,YAAjB,CAAd;;AACA,MAAM;EAAEC;AAAF,IAAcD,OAAO,CAAC,MAAD,CAA3B;;AACA,MAAME,MAAM,GAAGF,OAAO,CAAC,QAAD,CAAtB;;AACA,MAAMG,IAAI,GAAGH,OAAO,CAAC,UAAD,CAApB;AAEA;AACA;AACA;;;AAEAI,MAAM,CAACC,OAAP,GAAiBC,KAAjB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASA,KAAT,CAAgBC,IAAhB,EAAsBC,IAAtB,EAA4B;EAC1BA,IAAI,GAAGC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBF,IAAlB,CAAP;EAEAN,MAAM,CAACK,IAAD,EAAO,2CAAP,CAAN,CAH0B,CAK1B;;EACAR,KAAK,CAAC,gBAAD,EAAmBQ,IAAnB,EAAyBC,IAAzB,CAAL;EACAA,IAAI,CAACD,IAAL,GAAYN,OAAO,CAACM,IAAD,CAAnB;EACA,IAAIC,IAAI,CAACG,KAAL,KAAe,KAAnB,EAA0BH,IAAI,CAACG,KAAL,GAAaH,IAAI,CAACG,KAAL,IAAc,YAA3B;;EAE1B,IAAI,CAACH,IAAI,CAACI,KAAV,EAAiB;IACf,OAAO,eAAeN,KAAf,CAAsBO,GAAtB,EAA2BC,IAA3B,EAAiC;MACtC,IAAIC,IAAI,GAAG,KAAX;;MAEA,IAAIF,GAAG,CAACG,MAAJ,KAAe,MAAf,IAAyBH,GAAG,CAACG,MAAJ,KAAe,KAA5C,EAAmD;QACjD,IAAI;UACFD,IAAI,GAAG,MAAMZ,IAAI,CAACU,GAAD,EAAMA,GAAG,CAACI,IAAV,EAAgBT,IAAhB,CAAjB;QACD,CAFD,CAEE,OAAOU,GAAP,EAAY;UACZ,IAAIA,GAAG,CAACC,MAAJ,KAAe,GAAnB,EAAwB;YACtB,MAAMD,GAAN;UACD;QACF;MACF;;MAED,IAAI,CAACH,IAAL,EAAW;QACT,MAAMD,IAAI,EAAV;MACD;IACF,CAhBD;EAiBD;;EAED,OAAO,eAAeR,KAAf,CAAsBO,GAAtB,EAA2BC,IAA3B,EAAiC;IACtC,MAAMA,IAAI,EAAV;IAEA,IAAID,GAAG,CAACG,MAAJ,KAAe,MAAf,IAAyBH,GAAG,CAACG,MAAJ,KAAe,KAA5C,EAAmD,OAHb,CAItC;;IACA,IAAIH,GAAG,CAACO,IAAJ,IAAY,IAAZ,IAAoBP,GAAG,CAACM,MAAJ,KAAe,GAAvC,EAA4C,OALN,CAKa;;IAEnD,IAAI;MACF,MAAMhB,IAAI,CAACU,GAAD,EAAMA,GAAG,CAACI,IAAV,EAAgBT,IAAhB,CAAV;IACD,CAFD,CAEE,OAAOU,GAAP,EAAY;MACZ,IAAIA,GAAG,CAACC,MAAJ,KAAe,GAAnB,EAAwB;QACtB,MAAMD,GAAN;MACD;IACF;EACF,CAdD;AAeD"},"metadata":{},"sourceType":"script"}